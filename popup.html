<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <style>
    :root {
      --primary-color: #f59e0b;
      --primary-dark: #d97706;
      --success-color: #10b981;
      --error-color: #ef4444;
      --bg-color: #1a1a2e;
      --card-bg: #16213e;
      --text-color: #ffffff;
      --text-secondary: #94a3b8;
      --border-color: #334155;
    }

    body {
      width: 360px;
      margin: 0;
      padding: 0;
      background: var(--bg-color);
      color: var(--text-color);
      font-family: 'Segoe UI', system-ui, sans-serif;
    }

    .container {
      padding: 16px;
    }

    .header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border-color);
    }

    .logo {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .title {
      flex: 1;
    }

    .title h1 {
      margin: 0;
      font-size: 18px;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .title .version {
      font-size: 12px;
      color: var(--text-secondary);
      margin-top: 2px;
    }

    .status-card {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      border: 1px solid var(--border-color);
    }

    .status-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .status-row:last-child {
      margin-bottom: 0;
    }

    .status-label {
      color: var(--text-secondary);
      font-size: 14px;
    }

    .status-value {
      font-weight: 600;
      font-size: 14px;
    }

    .status-enabled {
      color: var(--success-color);
    }

    .status-disabled {
      color: var(--error-color);
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 24px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--border-color);
      transition: .3s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .3s;
      border-radius: 50%;
    }

    input:checked+.slider {
      background-color: var(--success-color);
    }

    input:checked+.slider:before {
      transform: translateX(20px);
    }

    .buttons {
      display: flex;
      margin-top: 16px;
    }

    .btn {
      flex: 1;
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      overflow: hidden;
      white-space: nowrap;
    }

    #forceInject {
      margin-right: 8px;
    }

    .btn.btn-hidden {
      flex: 0.0001;
      padding-left: 0;
      padding-right: 0;
      margin-right: 0;
      opacity: 0;
      pointer-events: none;
      transform: scale(0.9);
      max-width: 0;
    }

    .no-transition,
    .no-transition * {
      transition: none !important;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
    }

    .btn-secondary {
      background: var(--card-bg);
      color: var(--text-color);
      border: 1px solid var(--border-color);
    }

    .btn:hover {
      transform: translateY(-1px);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .icon {
      width: 16px;
      height: 16px;
    }

    .loading {
      opacity: 0.7;
      pointer-events: none;
    }

    .message {
      padding: 8px 12px;
      border-radius: 6px;
      margin-top: 12px;
      font-size: 12px;
      text-align: center;
      display: none;
    }

    .message-success {
      background: rgba(16, 185, 129, 0.2);
      color: var(--success-color);
      border: 1px solid rgba(16, 185, 129, 0.3);
    }

    .message-error {
      background: rgba(239, 68, 68, 0.2);
      color: var(--error-color);
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .site-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: var(--card-bg);
      border-radius: 6px;
      margin-bottom: 12px;
      font-size: 12px;
    }

    .site-indicator.on-site {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success-color);
      border: 1px solid rgba(16, 185, 129, 0.2);
    }

    .site-indicator.off-site {
      background: rgba(148, 163, 184, 0.1);
      color: var(--text-secondary);
      border: 1px solid var(--border-color);
    }

    .update-banner {
      display: none;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 12px 16px;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      border-radius: 8px;
      margin-bottom: 16px;
      cursor: pointer;
      font-weight: 600;
      font-size: 13px;
      box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
      transition: all 0.3s ease;
    }

    .update-banner:hover {
      transform: translateY(-2px);
      filter: brightness(1.1);
    }

    .update-banner span {
      flex: 1;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="logo">
        <img src="icons/icon128.png" alt="Banana Burner Logo">
      </div>
      <div class="title">
        <h1>Banana Burner</h1>
        <div class="version">Version <span id="version">2979.0.6</span></div>
      </div>
    </div>

    <div id="updateBanner" class="update-banner">
      <span>New update available! (v<span id="newVersion"></span>)</span>
      <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 4l-1.41 1.41L15.17 10H4v2h11.17l-4.58 4.59L12 18l8-8z" />
      </svg>
    </div>

    <div id="siteIndicator" class="site-indicator off-site">
      <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
        <path
          d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
      </svg>
      <span id="siteStatus">Not on Bot-Hosting panel</span>
    </div>

    <div class="status-card">
      <div class="status-row">
        <span class="status-label">Status</span>
        <label class="toggle-switch">
          <input type="checkbox" id="toggleEnabled">
          <span class="slider"></span>
        </label>
      </div>

      <div class="status-row" id="rowOverrideSRC">
        <span class="status-label">OverrideSRC</span>
        <label class="toggle-switch">
          <input type="checkbox" id="toggleOverrideSRC">
          <span class="slider"></span>
        </label>
      </div>

      <div class="status-row">
        <span class="status-label">Extension Version</span>
        <span class="status-value" id="scriptVersion">Loading...</span>
      </div>

      <div class="status-row">
        <span class="status-label">Last Fetched</span>
        <span class="status-value" id="lastUpdated">-</span>
      </div>
    </div>

    <div class="buttons">
      <button class="btn btn-primary" id="forceInject">
        <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
        </svg>
        Force Inject
      </button>

      <button class="btn btn-secondary" id="forceUpdate">
        <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
        </svg>
        Update
      </button>
    </div>

    <div id="message" class="message"></div>
  </div>

  <script src="popup.js"></script>
</body>

</html>
